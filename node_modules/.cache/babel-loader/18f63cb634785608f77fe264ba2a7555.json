{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _objectDestructuringEmpty from \"@babel/runtime-corejs2/helpers/esm/objectDestructuringEmpty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/satyabrat/React_Projects/PluralSight_Prac/Conference_Site/src/Speakers.js\";\n\nimport React, { useState, useEffect, useContext, useReducer, useCallback, useMemo } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../static/site.css\";\nimport { Header } from \"../src/Header\";\nimport { Menu } from \"../src/Menu\";\nimport SpeakerData from \"./SpeakerData\";\nimport SpeakerDetail from \"./SpeakerDetail\";\nimport { ConfigContext } from \"./App\";\nimport speakersReducer from \"./SpeakersReducer\";\nimport useAxiosFetch from \"./useAxiosFetch\";\nimport axios from \"axios\";\n\nvar Speakers = function Speakers(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var _useAxiosFetch = useAxiosFetch(\"http://localhost:4000/speakers\", []),\n      data = _useAxiosFetch.data,\n      isLoading = _useAxiosFetch.isLoading,\n      hasErrored = _useAxiosFetch.hasErrored,\n      errorMessage = _useAxiosFetch.errorMessage,\n      updateDataRecord = _useAxiosFetch.updateDataRecord;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      speakingSaturday = _useState2[0],\n      setSpeakingSaturday = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      speakingSunday = _useState4[0],\n      setSpeakingSunday = _useState4[1];\n\n  var context = useContext(ConfigContext);\n\n  var handleChangeSaturday = function handleChangeSaturday() {\n    setSpeakingSaturday(!speakingSaturday);\n  };\n\n  var newSpeakerList = useMemo(function () {\n    return data.filter(function (_ref2) {\n      var sat = _ref2.sat,\n          sun = _ref2.sun;\n      return speakingSaturday && sat || speakingSunday && sun;\n    }).sort(function (a, b) {\n      if (a.firstName < b.firstName) {\n        return -1;\n      }\n\n      if (a.firstName > b.firstName) {\n        return 1;\n      }\n\n      return 0;\n    });\n  }, [speakingSaturday, speakingSunday, data]);\n  var speakerListFiltered = isLoading ? [] : newSpeakerList;\n\n  var handleChangeSunday = function handleChangeSunday() {\n    setSpeakingSunday(!speakingSunday);\n  };\n\n  var heartFavoriteHandler = useCallback(function (e, speakerRec) {\n    e.preventDefault();\n\n    var toggledRec = _objectSpread({}, speakerRec, {\n      favorite: !speakerRec.favorite\n    });\n\n    axios.put(\"http://localhost:4000/speakers/\".concat(speakerRec.id), toggledRec).then(function (response) {\n      updateDataRecord(toggledRec);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n\n  if (hasErrored) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 12\n      }\n    }, errorMessage, \"\\xA0\\\"Make sure backend is running\\\"\");\n  }\n\n  if (isLoading) return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"Loading...\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Menu, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-toolbar  margintopbottom5 checkbox-bigger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, context.showSpeakerSpeakingDays === false ? null : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hide\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check-inline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-check-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    onChange: handleChangeSaturday,\n    checked: speakingSaturday,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }), \"Saturday Speakers\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-check-inline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-check-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"form-check-input\",\n    onChange: handleChangeSunday,\n    checked: speakingSunday,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }), \"Sunday Speakers\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-deck\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, speakerListFiltered.map(function (_ref3) {\n    var id = _ref3.id,\n        firstName = _ref3.firstName,\n        lastName = _ref3.lastName,\n        bio = _ref3.bio,\n        favorite = _ref3.favorite,\n        sat = _ref3.sat,\n        sun = _ref3.sun;\n    return /*#__PURE__*/React.createElement(SpeakerDetail, {\n      key: id,\n      id: id,\n      favorite: favorite,\n      onHeartFavoriteHandler: heartFavoriteHandler,\n      firstName: firstName,\n      lastName: lastName,\n      bio: bio,\n      sat: sat,\n      sun: sun,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    });\n  })))));\n};\n\nexport default Speakers;","map":{"version":3,"sources":["/Users/satyabrat/React_Projects/PluralSight_Prac/Conference_Site/src/Speakers.js"],"names":["React","useState","useEffect","useContext","useReducer","useCallback","useMemo","Header","Menu","SpeakerData","SpeakerDetail","ConfigContext","speakersReducer","useAxiosFetch","axios","Speakers","data","isLoading","hasErrored","errorMessage","updateDataRecord","speakingSaturday","setSpeakingSaturday","speakingSunday","setSpeakingSunday","context","handleChangeSaturday","newSpeakerList","filter","sat","sun","sort","a","b","firstName","speakerListFiltered","handleChangeSunday","heartFavoriteHandler","e","speakerRec","preventDefault","toggledRec","favorite","put","id","then","response","catch","error","console","log","showSpeakerSpeakingDays","map","lastName","bio"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  useEffect,\n  useContext,\n  useReducer,\n  useCallback,\n  useMemo,\n} from \"react\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../static/site.css\";\nimport { Header } from \"../src/Header\";\nimport { Menu } from \"../src/Menu\";\nimport SpeakerData from \"./SpeakerData\";\nimport SpeakerDetail from \"./SpeakerDetail\";\nimport { ConfigContext } from \"./App\";\nimport speakersReducer from \"./SpeakersReducer\";\nimport useAxiosFetch from \"./useAxiosFetch\";\nimport axios from \"axios\";\n\nconst Speakers = ({}) => {\n  const {\n    data,\n    isLoading,\n    hasErrored,\n    errorMessage,\n    updateDataRecord,\n  } = useAxiosFetch(\"http://localhost:4000/speakers\", []);\n  const [speakingSaturday, setSpeakingSaturday] = useState(true);\n  const [speakingSunday, setSpeakingSunday] = useState(true);\n\n  const context = useContext(ConfigContext);\n\n  const handleChangeSaturday = () => {\n    setSpeakingSaturday(!speakingSaturday);\n  };\n\n  const newSpeakerList = useMemo(\n    () =>\n      data\n        .filter(\n          ({ sat, sun }) => (speakingSaturday && sat) || (speakingSunday && sun)\n        )\n        .sort(function(a, b) {\n          if (a.firstName < b.firstName) {\n            return -1;\n          }\n          if (a.firstName > b.firstName) {\n            return 1;\n          }\n          return 0;\n        }),\n    [speakingSaturday, speakingSunday, data]\n  );\n\n  const speakerListFiltered = isLoading ? [] : newSpeakerList;\n\n  const handleChangeSunday = () => {\n    setSpeakingSunday(!speakingSunday);\n  };\n\n  const heartFavoriteHandler = useCallback((e, speakerRec) => {\n    e.preventDefault();\n    const toggledRec = { ...speakerRec, favorite: !speakerRec.favorite };\n    axios\n      .put(`http://localhost:4000/speakers/${speakerRec.id}`, toggledRec)\n      .then(function(response) {\n        updateDataRecord(toggledRec);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }, []);\n\n  if (hasErrored) {\n    return <div>{errorMessage}&nbsp;\"Make sure backend is running\"</div>;\n  }\n  if (isLoading) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <Header />\n      <Menu />\n      <div className=\"container\">\n        <div className=\"btn-toolbar  margintopbottom5 checkbox-bigger\">\n          {context.showSpeakerSpeakingDays === false ? null : (\n            <div className=\"hide\">\n              <div className=\"form-check-inline\">\n                <label className=\"form-check-label\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input\"\n                    onChange={handleChangeSaturday}\n                    checked={speakingSaturday}\n                  />\n                  Saturday Speakers\n                </label>\n              </div>\n              <div className=\"form-check-inline\">\n                <label className=\"form-check-label\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"form-check-input\"\n                    onChange={handleChangeSunday}\n                    checked={speakingSunday}\n                  />\n                  Sunday Speakers\n                </label>\n              </div>\n            </div>\n          )}\n        </div>\n        <div className=\"row\">\n          <div className=\"card-deck\">\n            {speakerListFiltered.map(\n              ({ id, firstName, lastName, bio, favorite, sat, sun }) => {\n                return (\n                  <SpeakerDetail\n                    key={id}\n                    id={id}\n                    favorite={favorite}\n                    onHeartFavoriteHandler={heartFavoriteHandler}\n                    firstName={firstName}\n                    lastName={lastName}\n                    bio={bio}\n                    sat={sat}\n                    sun={sun}\n                  />\n                );\n              }\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Speakers;\n"]},"metadata":{},"sourceType":"module"}